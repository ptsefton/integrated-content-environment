<?xml version="1.0"?>
<html><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><title>Testing embedded json</title><style type="text/css">table {border-spacing: 0;empty-cells: show; }
.body .indent {margin-left: 25px;}
.spCh {font-family: 'Lucida Grande','Arial Unicode MS', sans-serif; font-size: 1.2em;}
span.underline {text-decoration:underline; }
Header_20_right.P1 {margin-bottom:0cm; margin-top:0cm; }
Header_20_left.P3 {font-weight:normal; }</style></head><body><p>We used this for The Fascinator.</p><p>Create a html page.</p>
<pre>&lt;html&gt;</pre>
<pre>&lt;head&gt;</pre>
<pre>&lt;title&gt;Solr Ajax Example&lt;/title&gt;</pre>
<pre>&lt;/head&gt;</pre>
<pre>&lt;body &gt;  </pre>
<pre>&lt;div id="result"&gt;&lt;/div&gt;</pre>
<pre>&lt;p/&gt;&lt;pre&gt;Raw JSON String: &lt;div id="raw"&gt;&lt;/div&gt;&lt;/pre&gt;</pre>
<pre>&lt;script type="text/javascript" src="jsr_class.js"&gt; &lt;/script&gt;</pre>
<pre>&lt;script type="text/javascript"&gt;</pre>
<pre>//&lt;![CDATA[</pre>
<pre>function updatepage(rsp){</pre>
<pre> var html= "&lt;br&gt;numFound=" + rsp.response.numFound;</pre>
<pre> for (i=0; i&lt;rsp.response.docs.length; i++ )</pre>
<pre> {</pre>
<pre>    var doc =rsp.response.docs[i]</pre>
<pre>    html += "&lt;br&gt;&lt;a href='http://rspilot.usq.edu.au:8080/the-fascinator/detail/"+doc.pid+"'&gt;"+doc.title+"&lt;/a&gt;";</pre>
<pre>}</pre>
<pre>  document.getElementById("result").innerHTML = html;</pre>
<pre>     bObj.removeScriptTag(); </pre>
<pre>  }</pre>
<pre>var req  = 'http://rspilot.usq.edu.au:8080/the-fascinator/solr?wt=json&amp;json.wrf=updatepage';</pre>
<pre>bObj = new JSONscriptRequest(req); </pre>
<pre>bObj.buildScriptTag(); </pre>
<pre>bObj.addScriptTag();</pre>
<pre>//]]&gt;</pre>
<pre>&lt;/script&gt;</pre>
<pre>&lt;/body&gt;</pre>
<pre>&lt;/html&gt;</pre><p/></body></html>
